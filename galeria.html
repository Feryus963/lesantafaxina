<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Galeria | LêSantaFaxina</title>
    <style>
      /* Modal Zoom */
      .modal {
        display: none;
        position: fixed;
        z-index: 9999;
        padding-top: 60px;
        left: 0;
        top: 0;
        width: 100vw;
        height: 100vh;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.8);
      }

      .modal-conteudo {
        display: block;
        margin: auto;
        max-width: 90%;
        max-height: 80vh;
        border-radius: 8px;
        box-shadow: 0 0 20px #000;
        animation: zoom 0.3s ease;
        cursor: zoom-out;
      }

      @keyframes zoom {
        from {
          transform: scale(0.8);
        }
        to {
          transform: scale(1);
        }
      }

      .fechar {
        position: absolute;
        top: 20px;
        right: 40px;
        color: white;
        font-size: 40px;
        font-weight: bold;
        cursor: pointer;
        transition: 0.3s;
        z-index: 10000;
      }

      .fechar:hover {
        color: #ccc;
      }

      .nav {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        color: white;
        font-size: 40px;
        padding: 12px;
        cursor: pointer;
        user-select: none;
        z-index: 10001;
        transition: 0.3s;
      }

      .nav:hover {
        color: #ccc;
      }

      .prev {
        left: 20px;
      }

      .next {
        right: 20px;
      }

      /*dots fotos*/
      .dots {
        text-align: center;
        margin-top: 12px;
      }

      .dots .dot {
        display: inline-block;
        height: 10px;
        width: 10px;
        margin: 0 4px;
        background-color: #ccc;
        border-radius: 50%;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }

      .dots .dot.active {
        background-color: #0077cc;
      }

      /* Carrossel */
      .carrossel {
        position: relative;
        overflow: hidden;
        border-radius: 6px;
      }

      .carrossel img.slide {
        display: none;
        width: 100%;
        transition: opacity 0.4s ease-in-out;
        border-radius: 6px;
        position: absolute;
        top: 0;
        left: 0;
      }

      .carrossel img.slide.active {
        display: block;
        position: relative;
      }

      .carrossel button {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(0, 0, 0, 0.5);
        border: none;
        color: white;
        font-size: 18px;
        padding: 6px 10px;
        cursor: pointer;
        z-index: 10;
        border-radius: 4px;
      }

      .carrossel .prev {
        left: 10px;
      }

      .carrossel .next {
        right: 10px;
      }

      body {
        background-image: url(./assets/background-azul.jpg);
        background-repeat: no-repeat;
        background-size: cover;
        background-position: center;
        background-color: #2f5ef7de; /* Ou outra cor parecida com o fundo da imagem */
        background-attachment: fixed;
        font-family: "Inter", sans-serif;
        margin: 0;
        padding: 20px;
      }

      h1 {
        text-align: center;
        margin-bottom: 20px;
        color: gold;
        border: 1px solid gold;
        padding: 20px 24px;
        border-radius: 8px;
        background-color: rgba(255, 215, 0, 0.1);
      }

      .galeria {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 16px;
      }

      .item {
        background: rgba(0, 0, 0, 0.5);
        border-radius: 8px;
        padding: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        text-align: center;
        border: gold solid 1px;
        margin: 0 30px;
      }

      .item img {
        max-height: 510px; /* Reduz a altura da imagem */
        width: auto;
        display: block;
        margin: 0 auto 8px auto;
        border-radius: 6px;
        cursor: zoom-in;
        transition: 0.3s ease;
      }

      .item p {
        font-size: 30px;
        color: white;
        padding: 15px 0;
      }

      .item:hover {
        transform: scale(1.05);
        border-radius: 8px;
      }

      .voltar {
        display: block;
        width: fit-content;
        margin: 30px auto 0 auto;
        font-size: 16px;
        text-decoration: none;
        color: gold;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
        padding: 8px 12px;
        border-radius: 4px;
        transition: background-color 0.3s ease;
        left: 50px;
      }

      .voltar:hover {
        text-decoration: underline;
        color: white;
      }

      .carrossel-videos {
        position: relative;
        overflow: hidden;
        border-radius: 6px;
        min-height: 250px; /* necessário para manter altura visível */
      }
      .carrossel-videos video.slide {
        display: none;
        width: 100%;
        max-height: 510px;
        border-radius: 6px;
        object-fit: cover;
        cursor: pointer; /* Indica que pode clicar */
      }
      .carrossel-videos video.slide.active {
        display: block;
      }

      .modal-conteudo {
        display: block;
        margin: auto;
        max-width: 90%;
        max-height: 80vh;
        border-radius: 8px;
        box-shadow: 0 0 20px #000;
        animation: zoom 0.3s ease;
        cursor: zoom-out;
      }

      /* Dots, botões e demais estilos seus seguem iguais */
    </style>
  </head>
  <body>
    <h1>Galeria</h1>

    <div class="galeria">
      <div class="item">
        <div class="carrossel">
          <img
            src="./assets/Galeria de fotos/Organizer/Organizer1.jpg"
            class="slide active"
            alt="Armário 1"
          />
          <img
            src="./assets/Galeria de fotos/Organizer/Organizer2.jpg"
            class="slide"
            alt="Armário 2"
          />
          <img
            src="./assets/Galeria de fotos/Organizer/Organizer3.jpg"
            class="slide"
            alt="Armário 3"
          />
          <img
            src="./assets/Galeria de fotos/Organizer/Organizer4.jpg"
            class="slide"
            alt="Armário 4"
          />
          <img
            src="./assets/Galeria de fotos/Organizer/Organizer5.jpg"
            class="slide"
            alt="Armário 5"
          />
          <img
            src="./assets/Galeria de fotos/Organizer/Organizer6.jpg"
            class="slide"
            alt="Armário 6"
          />
          <img
            src="./assets/Galeria de fotos/Organizer/Organizer7.jpg"
            class="slide"
            alt="Armário 7"
          />
          <img
            src="./assets/Galeria de fotos/Organizer/Organizer8.jpg"
            class="slide"
            alt="Armário 8"
          />
          <img
            src="./assets/Galeria de fotos/Organizer/Organizer9.jpg"
            class="slide"
            alt="Armário 9"
          />
          <img
            src="./assets/Galeria de fotos/Organizer/Organizer10.jpg"
            class="slide"
            alt="Armário 10"
          />
          <img
            src="./assets/Galeria de fotos/Organizer/Organizer11.jpg"
            class="slide"
            alt="Armário 11"
          />
          <img
            src="./assets/Galeria de fotos/Organizer/Organizer12.jpg"
            class="slide"
            alt="Armário 12"
          />
          <img
            src="./assets/Galeria de fotos/Organizer/Organizer13.jpg"
            class="slide"
            alt="Armário 13"
          />
          <img
            src="./assets/Galeria de fotos/Organizer/Organizer14.jpg"
            class="slide"
            alt="Armário 14"
          />
          <img
            src="./assets/Galeria de fotos/Organizer/Organizer15.jpg"
            class="slide"
            alt="Armário 15"
          />
          <img
            src="./assets/Galeria de fotos/Organizer/Organizer16.jpg"
            class="slide"
            alt="Armário 16"
          />
          <img
            src="./assets/Galeria de fotos/Organizer/Organizer17.jpg"
            class="slide"
            alt="Armário 17"
          />
          <img
            src="./assets/Galeria de fotos/Organizer/Organizer18.jpg"
            class="slide"
            alt="Armário 18"
          />
          <button class="prev">‹</button>
          <button class="next">›</button>
          <div class="dots"></div>
        </div>
        <p>Organização de guarda-roupas</p>
      </div>

      <div class="item">
        <div id="carrossel-videos" class="carrossel carrossel-videos">
          <video
            src="./assets/videos/video1.mp4"
            class="slide active"
            muted
            poster="./assets/Videos/thumb1.png"
          ></video>
          <video
            src="./assets/videos/video2.mp4"
            class="slide"
            muted
            poster="./assets/Videos/thumb2.png"
          ></video>
          <video
            src="./assets/videos/video3.mp4"
            class="slide"
            muted
            poster="./assets/Videos/thumb3.png"
          ></video>

          <video
            src="./assets/videos/video4.mp4"
            class="slide"
            muted
            poster="./assets/Videos/thumb4.png"
          ></video>

          <video
            src="./assets/videos/video5.mp4"
            class="slide"
            muted
            poster="./assets/Videos/thumb5.png"
          ></video>

          <video
            src="./assets/videos/video6.mp4"
            class="slide"
            muted
            poster="./assets/Videos/thumb6.png"
          ></video>

          <video
            src="./assets/videos/video7.mp4"
            class="slide"
            muted
            poster="./assets/Videos/thumb7.png"
          ></video>

          <button class="prev">‹</button>
          <button class="next">›</button>
          <div class="dots"></div>
        </div>
        <p>Limpeza de ambientes</p>
      </div>

      <div class="item">
        <div id="carrossel" class="carrossel">
          <img
            src="./assets/Antes e depois/antesedepois1.png"
            alt="Piscina antes e depois"
            class="slide active"
          />

          <img
            src="./assets/Antes e depois/"
            alt="Piscina antes e depois"
            class="slide"
          />

          <button class="prev">‹</button>
          <button class="next">›</button>
          <div class="dots"></div>
        </div>

        <p>Antes e depois de faxina</p>
      </div>
      <!-- Você pode adicionar mais .item com suas fotos -->
    </div>

    <a href="index.html" class="voltar">← Voltar à página principal </a>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const carrosseis = document.querySelectorAll(
          ".carrossel:not(.carrossel-videos)"
        )

        carrosseis.forEach((carrossel) => {
          const slides = carrossel.querySelectorAll(".slide")
          const prevBtn = carrossel.querySelector(".prev")
          const nextBtn = carrossel.querySelector(".next")
          const dotsContainer = carrossel.querySelector(".dots")

          let current = 0

          // Criar dots
          slides.forEach((_, index) => {
            const dot = document.createElement("span")
            dot.classList.add("dot")
            if (index === 0) dot.classList.add("active")
            dot.addEventListener("click", () => {
              current = index
              showSlide(current)
            })
            dotsContainer.appendChild(dot)
          })

          const dots = dotsContainer.querySelectorAll(".dot")

          function showSlide(index) {
            slides.forEach((slide, i) => {
              slide.classList.toggle("active", i === index)
              dots[i].classList.toggle("active", i === index)
            })
          }

          prevBtn.addEventListener("click", () => {
            current = (current - 1 + slides.length) % slides.length
            showSlide(current)
          })

          nextBtn.addEventListener("click", () => {
            current = (current + 1) % slides.length
            showSlide(current)
          })

          showSlide(0)
        })
      })
    </script>

    <div id="modalZoom" class="modal">
      <span class="fechar">&times;</span>
      <span class="nav prev">&#10094;</span>
      <span class="nav next">&#10095;</span>
      <img
        id="imagemAmpliada"
        class="modal-conteudo"
        alt="Imagem ampliada"
        style="display: none"
      />
      <video
        id="videoAmpliado"
        class="modal-conteudo"
        controls
        autoplay
        style="display: none"
      ></video>
    </div>

    <script>
      // Modal Zoom para imagens e vídeos - declaração única de variáveis
      const modal = document.getElementById("modalZoom")
      const modalImg = document.getElementById("imagemAmpliada")
      const modalVideo = document.getElementById("videoAmpliado")
      const fechar = document.querySelector(".fechar")
      const prevBtnModal = document.querySelector("#modalZoom .nav.prev")
      const nextBtnModal = document.querySelector("#modalZoom .nav.next")
      document.querySelectorAll(".item").forEach((item) => {
        const imagens = Array.from(
          item.querySelectorAll(".carrossel img.slide, img:not(.slide)")
        )

        imagens.forEach((img, i) => {
          img.addEventListener("click", () => {
            abrirModal(i, imagens, "imagem")
          })
        })

        const videos = Array.from(item.querySelectorAll("video.slide"))
        videos.forEach((video, i) => {
          video.addEventListener("click", () => {
            abrirModal(i, videos, "video")
          })
        })
      })

      const videosZoom = document.querySelectorAll(".carrossel-videos video")
      let currentIndex = 0

      let midiasAtuais = []
      let tipoConteudoModal = "imagem"

      // Abrir modal para imagens
      function abrirModal(index, midias, tipo) {
        midiasAtuais = midias
        tipoConteudoModal = tipo
        currentIndex = index
        modal.style.display = "block"

        if (tipoConteudoModal === "imagem") {
          modalImg.src = midiasAtuais[currentIndex].src
          modalImg.alt = midiasAtuais[currentIndex].alt
          modalImg.style.display = "block"
          modalVideo.style.display = "none"
          prevBtnModal.style.display = "block"
          nextBtnModal.style.display = "block"
          if (!modalVideo.paused) {
            modalVideo.pause()
            modalVideo.currentTime = 0
          }
        } else {
          modalVideo.src = midiasAtuais[currentIndex].src
          modalVideo.style.display = "block"
          modalImg.style.display = "none"
          modalVideo.play()
          prevBtnModal.style.display = "block"
          nextBtnModal.style.display = "block"
        }
      }

      // Abrir modal para vídeos
      videosZoom.forEach((video) => {
        video.addEventListener("click", () => {
          modal.style.display = "block"
          modalVideo.src = video.src
          modalVideo.style.display = "block"
          modalVideo.play()
          modalImg.style.display = "none"
        })
      })

      // Fechar modal
      fechar.addEventListener("click", () => {
        modal.style.display = "none"
        if (!modalVideo.paused) {
          modalVideo.pause()
          modalVideo.currentTime = 0
        }
      })

      // Navegação de imagens no modal
      prevBtnModal.addEventListener("click", () => {
        currentIndex =
          (currentIndex - 1 + midiasAtuais.length) % midiasAtuais.length
        abrirModal(currentIndex, midiasAtuais, tipoConteudoModal)
      })

      nextBtnModal.addEventListener("click", () => {
        currentIndex = (currentIndex + 1) % midiasAtuais.length
        abrirModal(currentIndex, midiasAtuais, tipoConteudoModal)
      })

      // Fechar modal clicando fora da imagem/video
      window.addEventListener("click", (e) => {
        if (e.target === modal) {
          modal.style.display = "none"
          if (!modalVideo.paused) {
            modalVideo.pause()
            modalVideo.currentTime = 0
          }
        }
      })

      // Fechar modal clicando na imagem ou vídeo ampliado
      modalImg.addEventListener("click", () => {
        modal.style.display = "none"
      })

      modalVideo.addEventListener("click", () => {
        modal.style.display = "none"
        if (!modalVideo.paused) {
          modalVideo.pause()
          modalVideo.currentTime = 0
        }
      })
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const carrosselVideo = document.querySelector(".carrossel-videos")
        if (!carrosselVideo) return

        const videos = carrosselVideo.querySelectorAll("video.slide")
        const prevBtn = carrosselVideo.querySelector(".prev")
        const nextBtn = carrosselVideo.querySelector(".next")
        const dotsContainer = carrosselVideo.querySelector(".dots")

        let currentVideo = 0

        // Cria os dots dinamicamente
        videos.forEach((_, index) => {
          const dot = document.createElement("span")
          dot.classList.add("dot")
          if (index === 0) dot.classList.add("active")
          dot.addEventListener("click", () => {
            currentVideo = index
            showVideoSlide(currentVideo)
          })
          dotsContainer.appendChild(dot)
        })

        const dots = dotsContainer.querySelectorAll(".dot")

        function showVideoSlide(index) {
          videos.forEach((video, i) => {
            const active = i === index
            video.classList.toggle("active", active)
            dots[i].classList.toggle("active", active)

            // controla o display via style inline
            video.style.display = active ? "block" : "none"

            if (!active) {
              video.pause()
              video.currentTime = 0
            }
          })
        }

        prevBtn.addEventListener("click", () => {
          currentVideo = (currentVideo - 1 + videos.length) % videos.length
          showVideoSlide(currentVideo)
        })

        nextBtn.addEventListener("click", () => {
          currentVideo = (currentVideo + 1) % videos.length
          showVideoSlide(currentVideo)
        })

        // Inicializa exibindo o primeiro vídeo pausado e visível
        showVideoSlide(0)

        // Tocar o vídeo ao clicar nele
        videos.forEach((video) => {
          video.addEventListener("click", () => {
            if (video.paused) {
              video.play()
            } else {
              video.pause()
            }
          })
        })
      })
    </script>
  </body>
</html>
